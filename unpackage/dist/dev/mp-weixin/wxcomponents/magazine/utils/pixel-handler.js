"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function colorMatrixFilter(origin, rgb) {
    const [targetR, targetG, targetB] = rgb;
    const len = origin.length;
    let result = new Uint8ClampedArray(len);
    const m = [
        1, 0, 0, 0, targetR,
        0, 1, 0, 0, targetG,
        0, 0, 1, 0, targetB,
        0, 0, 0, 1, 0,
    ];
    for (let i = 0; i < len; i += 4) {
        let r = origin[i];
        let g = origin[i + 1];
        let b = origin[i + 2];
        let a = origin[i + 3];
        result[i] = r * m[0] + g * m[1] + b * m[2] + a * m[3] + m[4];
        result[i + 1] = r * m[5] + g * m[6] + b * m[7] + a * m[8] + m[9];
        result[i + 2] = r * m[10] + g * m[11] + b * m[12] + a * m[13] + m[14];
        result[i + 3] = r * m[15] + g * m[16] + b * m[17] + a * m[18] + m[19];
    }
    return result;
}
exports.colorMatrixFilter = colorMatrixFilter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGl4ZWwtaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInBpeGVsLWhhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTLGlCQUFpQixDQUFDLE1BQXlCLEVBQUUsR0FBa0I7SUFDdEUsTUFBTSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFBO0lBQ3ZDLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUE7SUFDekIsSUFBSSxNQUFNLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN2QyxNQUFNLENBQUMsR0FBRztRQUNSLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPO1FBQ25CLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPO1FBQ25CLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPO1FBQ25CLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0tBQ2QsQ0FBQTtJQUNELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMvQixJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdELE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN0RSxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3ZFO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDO0FBR0MsOENBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY29sb3JNYXRyaXhGaWx0ZXIob3JpZ2luOiBVaW50OENsYW1wZWRBcnJheSwgcmdiOiBBcnJheTxudW1iZXI+KSB7XG4gIGNvbnN0IFt0YXJnZXRSLCB0YXJnZXRHLCB0YXJnZXRCXSA9IHJnYlxuICBjb25zdCBsZW4gPSBvcmlnaW4ubGVuZ3RoXG4gIGxldCByZXN1bHQgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuKVxuICBjb25zdCBtID0gW1xuICAgIDEsIDAsIDAsIDAsIHRhcmdldFIsXG4gICAgMCwgMSwgMCwgMCwgdGFyZ2V0RyxcbiAgICAwLCAwLCAxLCAwLCB0YXJnZXRCLFxuICAgIDAsIDAsIDAsIDEsIDAsXG4gIF1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIGxldCByID0gb3JpZ2luW2ldO1xuICAgIGxldCBnID0gb3JpZ2luW2kgKyAxXTtcbiAgICBsZXQgYiA9IG9yaWdpbltpICsgMl07XG4gICAgbGV0IGEgPSBvcmlnaW5baSArIDNdO1xuICAgIHJlc3VsdFtpXSA9IHIgKiBtWzBdICsgZyAqIG1bMV0gKyBiICogbVsyXSArIGEgKiBtWzNdICsgbVs0XTtcbiAgICByZXN1bHRbaSArIDFdID0gciAqIG1bNV0gKyBnICogbVs2XSArIGIgKiBtWzddICsgYSAqIG1bOF0gKyBtWzldO1xuICAgIHJlc3VsdFtpICsgMl0gPSByICogbVsxMF0gKyBnICogbVsxMV0gKyBiICogbVsxMl0gKyBhICogbVsxM10gKyBtWzE0XTtcbiAgICByZXN1bHRbaSArIDNdID0gciAqIG1bMTVdICsgZyAqIG1bMTZdICsgYiAqIG1bMTddICsgYSAqIG1bMThdICsgbVsxOV07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQge1xuICBjb2xvck1hdHJpeEZpbHRlclxufSJdfQ==